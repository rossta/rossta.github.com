<!doctype html>
<html>
  <head>
    <title>Animating Connect Four with Vue.js - rossta.net</title>
<meta name="description" content="Continuing our series on building Connect Four with Vue and Phoenix, we'll use Vue transitions and a third party library to animate the SVG checkers falling and bouncing into place when added to th..." />
<meta name="keywords" content="Vue, JavaScript" />
<meta name="site" content="rossta.net" />
<meta property="og:site_name" content="rossta.net" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:creator" content="Ross Kaffenberger" />
<meta name="twitter:description" content="Continuing our series on building Connect Four with Vue and Phoenix, we'll use Vue transitions and a third party library to animate the SVG checkers falling and bouncing into place when added to the game board." />
<meta name="twitter:image:src" content="https://rossta.net/assets/images/blog/connect-four-nightsky-7a0e260b.png" />
<meta name="twitter:title" content="Animating Connect Four with Vue.js" />
<meta property="og:description" content="Continuing our series on building Connect Four with Vue and Phoenix, we'll use Vue transitions and a third party library to animate the SVG checkers falling and bouncing into place when added to the game board." />
<meta property="og:image" content="https://rossta.net/assets/images/blog/connect-four-nightsky-7a0e260b.png" />
<meta property="og:title" content="Animating Connect Four with Vue.js" />
    <meta charset="utf-8" />
    <meta http-equiv='X-UA-Compatible' content='IE=edge;chrome=1' />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="mobile-web-app-capable" content="yes">

    <link rel="manifest" href="/manifest.json" />
    <link rel="apple-touch-icon"                      href="/apple-touch-icon.png" />
    <link rel="icon"                                  href="/touch-icon-192x192.png" />
    <link rel="icon" type="image/png" sizes="192x192" href="/touch-icon-192x192.png" />
    <link rel="icon" type="image/png" sizes="144x144" href="/touch-icon-144x144.png" />
    <link rel="icon" type="image/png" sizes="96x96"   href="/touch-icon-96x96.png" />
    <link rel="icon" type="image/png" sizes="72x72"   href="/touch-icon-72x72.png" />
    <link rel="icon" type="image/png" sizes="48x48"   href="/touch-icon-48x48.png">
    <link rel="icon" type="image/png" sizes="36x36"   href="/touch-icon-36x36.png">
    <link rel="icon" type="image/png" sizes="36x36"   href="/touch-icon-36x36.png">
    <link rel="icon" type="image/png" sizes="32x32"   href="/touch-icon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16"   href="/touch-icon-16x16.png">

    <link rel="mask-icon" href="/safari-pinned-tab-5cdca7ae.svg" color="#5bbad5">
    <meta name="theme-color" content="#ffffff">

    <link rel="pingback" href="https://webmention.io/rossta.net/xmlrpc" />
    <link rel="webmention" href="https://webmention.io/rossta.net/webmention" />

    <script type="text/javascript" src="//use.typekit.net/ned0mml.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
    <link href="/assets/stylesheets/app-b7b2763a.css" rel="stylesheet" />
  </head>
  <body id="application" class="typekit">
    <nav id="welcome-nav" class="top-bar" data-topbar>
  <ul class="title-area">
    <li class="name">
      <h1><a class="logo" href="/"><img src="/assets/images/turtle-logo-096698b6.svg" alt="Turtle logo" /><span>rossta.net</span></a></h1>
    </li>
    <li class="toggle-topbar menu-icon"><a href="#">Menu</a></li>
  </ul>

  <section class="top-bar-section">
    <ul class="left">
      <li class="nav"><a href="/blog">blog</a></li>
      <li class="nav"><a href="/series">series</a></li>
      <li class="nav"><a href="/talks">talks</a></li>
      <li class="nav"><a href="/projects">projects</a></li>
      <li class="nav"><a href="/about">about</a></li>
      <li class="nav"><a href="/feed.xml">feed</a></li>
    </ul>
  </section>
</nav>

    <div class="row">
      <section id="main" role="main" class="large-12 small-12 columns">
          <section id="blog" class="margin-bottom double">
    <article class="post margin-bottom double">
      <header class="page-header with-summary">
  <h1>
    Animating Connect Four with Vue.js
  </h1>
    <h3>
      How the Vue transition component "drops" things into place
    </h3>
</header>


      <p>When we left off our <a href="/blog/basic-connect-four-with-vuejs.html">Connect Four game last</a>, we used Vue.js components to convert a static HTML view of the Connect Four board into a playable
interface. In this post, we&#39;ll animate the checkers falling and bouncing into
place when added to the game board.</p>

<p>Here&#39;s how the game behaved at the end of <a href="/blog/basic-connect-four-with-vuejs.html">the previous post</a>:</p>

<p data-height="485" data-theme-id="light" data-slug-hash="eyrMBy" data-default-tab="js,result" data-user="rossta" data-embed-version="2" data-pen-title="Connect Four Vue.js, SVG: first pass" class="codepen">See the Pen <a href="https://codepen.io/rossta/pen/eyrMBy/">Connect Four Vue.js, SVG: first pass</a> by Ross Kaffenberger (<a href="https://codepen.io/rossta">@rossta</a>) on <a href="https://codepen.io">CodePen</a>.</p>

<script async src="https://production-assets.codepen.io/assets/embed/ei.js"></script>

<p><hr /></p>

<p>Clicking columns simply adds new checkers to the board in the first available
slots. Though it works, it doesn&#39;t quite <em>feel</em> like Connect Four; we want
checkers falling to the bottom of each column.</p>

      <h2 id="vue-transitions" class="title">
        <a name="vue-transitions" class="anchor" href="#vue-transitions">       <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
       <path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"></path>
       </svg>
</a>
        Vue transitions
      </h2>
    
<p>Vue.js can help us here. It provides a number of features to support
<em>transitions</em>, such as adding/removing single elements, adding/removing items in
a list, and even between values in data itself. Vue provides a <a href="https://vuejs.org/v2/guide/transitions.html#Transitioning-Single-Elements-Components"><code>&lt;transition&gt;</code>
component, which can be leveraged to animate elements as they enter and leave the DOM</a>. This is what we&#39;ll use to animate checkers when they are added to the board.</p>

<pre><code>&lt;transition&gt;
  &lt;!-- magic --&gt;
&lt;/transition&gt;
</code></pre>

<p>The Vue <code>&lt;transition&gt;</code> element has mechanisms for either CSS or JavaScript
animation. Since we&#39;ll have exact coordinates as component properties
representing the start and end points of the checker&#39;s fall, we&#39;ll want to reach
for the component&#39;s <a href="https://vuejs.org/v2/guide/transitions.html#JavaScript-Hooks">JavaScript
hooks</a>, which
include <code>before-enter</code>, <code>enter</code>, <code>after-enter</code>, <code>before-leave</code>, <code>leave</code>, etc. To
keep things short and sweet, we&#39;ll simply animate checkers as they are added to
the board—we may come back to animating of release of checkers from the
board in a later post.</p>

      <h2 id="adding-a-checker-transition" class="title">
        <a name="adding-a-checker-transition" class="anchor" href="#adding-a-checker-transition">       <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
       <path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"></path>
       </svg>
</a>
        Adding a checker transition
      </h2>
    
<p>The template for our checker is simply a SVG <code>&lt;circle&gt;</code> element with <code>cx</code> and
<code>cy</code> properties to indicate its resting position in the column.</p>

<pre><code>&lt;!-- board-checker-template --&gt;
&lt;circle :cx=&quot;centerX&quot; :cy=&quot;centerY&quot; ... /&gt;
</code></pre>

<p>Each of these HTML properties is bound to component properties in the <code>BoardChecker</code>.</p>

<pre><code>const BoardChecker = Vue.component(&#39;board-checker&#39;, {
  computed: {
    centerX() {
      return (this.cellSize / 2);
    },

    centerY() {
      return (this.cellSize / 2) + (this.cellSize * (this.rowCount - 1 - this.row));
    },

    // ...
  },
});
</code></pre>

<p>To animate the arrival of this checker to the board, we need to wrap the
<code>&lt;circle&gt;</code> in a <code>&lt;transition&gt;</code> element.</p>

<pre><code>&lt;transition
  @enter=&quot;enter&quot;
  :css=&quot;false&quot;
  &gt;
  &lt;circle ... /&gt;
&lt;/transition&gt;
</code></pre>

<p>As we&#39;ll only JavaScript animation for the transition, Vue recommends setting
the <code>:css</code> property to <code>false</code> as an optimization. We also bind a callback named
&quot;enter&quot; to the <code>@enter</code> listener on the <code>&lt;transition&gt;</code> component. The definition
of that callback will be a method on the <code>BoardChecker</code> component:</p>

<pre><code>const BoardChecker = Vue.component(&#39;board-checker&#39;, {
  method: {
    enter(element, done) {
      // animate!

      done();
    },

    // ...
  },
});
</code></pre>

<p>Vue expects that the <code>enter</code> callback may be asynchronous, so the framework
provides a <code>done</code> parameter which is a function that must be called to indicate that the
transition has completed.</p>

      <h2 id="animating-the-transition" class="title">
        <a name="animating-the-transition" class="anchor" href="#animating-the-transition">       <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
       <path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"></path>
       </svg>
</a>
        Animating the transition
      </h2>
    
<p>So how to animate? We can lean on a third-party library to do the heavy-lifting;
we just need to wire it up correctly to get the desired effect. I chose the
<code>GSAP</code> library from <a href="https://greensock.com/">Greensock</a> which is well-suited for
SVG animation, though just about any popular animation library could work in its
place. But don&#39;t take it from me—here&#39;s what expert, Sarah Drasner, has to say
in her book <a href="http://shop.oreilly.com/product/0636920045335.do">SVG Animations</a>:</p>

<blockquote>
<p>Due to the fact that GreenSock corrects some of SVG’s cross-browser quirks,
and has thought of every different use case for animation, GreenSock is going
to be the animation technology I recommend for production sites most
frequently.</p>
</blockquote>

<p>The GSAP ships with a number of utilities to support complex animation and
synchronization. We&#39;re going to use the
<a href="https://greensock.com/docs/TweenMax/static.fromTo"><code>TweenMax.fromTo</code></a> function
with an easing parameter to bounce the checker in to place. It needs a target
element, a duration, &quot;from params&quot;, and &quot;to params&quot;, which describe the
animation at the start and end—hence, <code>fromTo</code>:</p>

<pre><code class="javascript">TweenMax.fromTo(element, duration, { y: startPosition }, { y: endPosition });
</code></pre>

<p>Since the checker&#39;s path of motion will have only vertical motion, we will
animate the <code>y</code> position. The key insight is to understand that the <code>TweenMax</code>
start and end <code>y</code> positions are relative to element&#39;s static position; in this
case, that is the <code>cy</code> property of our <code>&lt;circle&gt;</code> element. The start position
for the animiation must be above the checker&#39;s finish position, it&#39;s given <code>cy</code>
coordinate; because the origin of the SVG view box is in the top left, the
vertical start position must be a <em>negative</em> value with repect to the finish. To
start the animation just barely outside the view box, we want the negative value
of the static <code>cy</code> position and subtract the <code>cellSize</code>. The end position is
simply 0—no change from the given <code>cy</code> coordinate.</p>

<pre><code class="javascript">const fromParams = {
  y: (-1 * (this.centerY + this.cellSize))
};

const toParams = {
  y: 0,
  ease: Bounce.easeOut,
  onComplete: done,
};
</code></pre>

<p>The <code>toParams</code> also accept an <code>ease</code> property, for which we&#39;ll use GSAP&#39;s
<code>Bounce.easeOut</code>, and an <code>onComplete</code> callback property, which will be the
<code>done</code> callback provided by Vue transition&#39;s <code>enter</code> hook. This will allow us to
prevent changes in game state until the checker has finished animating.</p>

<p>We also can play with the <code>duration</code> property. As we add more checkers to a
single column, each checker will have a shorter distance to fall. If we
otherwise kept the duration the same for all checkers, they would appear to fall
more slowly as they had less distance to fall.</p>

<p>Finding a duration that feels right takes a little trial and error, but where we
currently have it, the duration is an arbitrary constant multiplied by a
percentage of the total column height based on where the checker will end up:</p>

<pre><code>const percentage = (this.rowCount - this.row) / this.rowCount;
const duration = return 0.2 + 0.4 * this.percentage;           // seconds
</code></pre>

      <h2 id="showtime" class="title">
        <a name="showtime" class="anchor" href="#showtime">       <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
       <path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"></path>
       </svg>
</a>
        Showtime
      </h2>
    
<p>Putting this altogether, our final <code>enter</code> method looks like this:</p>

<pre><code>const BoardChecker = Vue.component(&#39;board-checker&#39;, {
  // ...

  methods: {
    enter(el, done) {
      // start above board, outside the view box
      const fromY = -1 * (this.centerY + this.cellSize);

      // finish at the position given to
      const toY = 0;

      const fromParams = {
        y: fromY
      };

      const toParams = {
        y: toY,
        ease: Bounce.easeOut,
        onComplete: done,
      };

      const percentage = (this.rowCount - this.row) / this.rowCount;
      const duration = return 0.2 + 0.4 * this.percentage; // arbitrary constants

      return TweenMax.fromTo(el, this.duration, fromParams, destParams);
    },
  },
});
</code></pre>

<p>Adding this to our game board, we now have some nicely animated checkers falling
into place as we play! Note that, because we&#39;re using SVG pattern masking, as
described in <a href="#">an earlier post</a>, the checkers appear to fall behind the Connect
Four wall, visible through the portholes.</p>

<p data-height="485" data-theme-id="light" data-slug-hash="jYxxGv" data-default-tab="js,result" data-user="rossta" data-embed-version="2" data-pen-title="Connect Four with Vue.js, SVG: animated checkers" class="codepen">See the Pen <a href="https://codepen.io/rossta/pen/jYxxGv/">Connect Four with Vue.js, SVG: animated checkers</a> by Ross Kaffenberger (<a href="https://codepen.io/rossta">@rossta</a>) on <a href="https://codepen.io">CodePen</a>.</p>

<script async src="https://production-assets.codepen.io/assets/embed/ei.js"></script>

<p><hr /></p>

<p>Cool!</p>

<p>Notice though, that you can continue dropping checkers until the board fills up. In the <a href="/blog/finding-four-in-a-row-ftw.html">next post</a>, we&#39;ll fix that by introducing an algorithm to check for a win and display the results in the UI when the game ends.</p>

    </article>

    <section class="signup-form-standalone margin-bottom quadruple">
      <!-- Begin MailChimp Signup Form -->
<div class="signup-form">
  <h3>Did you like this post?</h3>
  <p>
      <a href="https://twitter.com/intent/tweet?text=Animating%20Connect%20Four%20with%20Vue.js&amp;url=https%3A%2F%2Frossta.net%2Fblog%2Fanimating-connect-four-with-vuejs.html" target="_blank" rel="noopener">Please share this post on Twitter</a>
      and
    enter your email address below so I can send you an occasional email about
    Vue, JavaScript, and the web. Thank you!
  </p>
  <div id="mc_embed_signup">
    <form action="//rossta.us6.list-manage.com/subscribe/post?id=96030b0bda&u=8ce159842b5c98cecb4ebdf16" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
      <div id="mc_embed_signup_scroll">

        <div class="row">
          <div class="large-10 columns">
            <div class="row collapse">
              <div class="large-8 small-7 columns">
                <input type="email" placeholder="Your email..." value="" name="EMAIL" class="required email" id="mce-EMAIL">
              </div>
              <div class="large-4 small-5 columns">
                <input type="submit" value="Sign me up!" name="subscribe" id="mc-embedded-subscribe" class="button postfix">
              </div>
            </div>
          </div>
        </div>

        <div id="mce-responses" class="clear">
          <div class="response" id="mce-error-response" style="display:none"></div>
          <div class="response" id="mce-success-response" style="display:none"></div>
        </div>
        <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
        <div style="position: absolute; left: -5000px;"><input type="text" name="b_8ce159842b5c98cecb4ebdf16_96030b0bda" tabindex="-1" value=""></div>
      </div>

      <input type="hidden" name="SIGNUP" value="https://rossta.net/blog/2018-01-18-animating-connect-four-with-vuejs.html" />
      <input type="hidden" name="SIGNUP_APP" value="Mailchimp" />
      <input type="hidden" name="SIGNUP_LOCATION" id="signup_location" value="blog/2018-01-18-animating-connect-four-with-vuejs.html" />
        <input type="hidden" name="group[17961][1]" id="signup_technology" value="Vue" />
        <input type="hidden" name="group[17961][2]" id="signup_technology" value="JavaScript" />
    </form>
  </div>
  <!--End mc_embed_signup-->
</div>

    </section>
    <article>
        <figure>
          <img src="/assets/images/blog/connect-four-nightsky-7a0e260b.png" alt="Connect four nightsky" />
            <figcaption>Background Photo by Andrew Preble on Unsplash</figcaption>
        </figure>
    </article>
    <section class="margin-bottom double">
      <p>
          Part of the <a href="/blog/series/connect-four.html">Connect Four</a> series.
        Published on Jan 18, 2018
      </p>
    </section>
  </section>
    <hr />
    <section class="comments">
      <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname  = "rosskaff";
    var disqus_identifier = "animating-connect-four-with-vuejs";
    var disqus_title      = "Animating Connect Four with Vue.js";
    var disqus_url        = "https://rossta.net/blog/animating-connect-four-with-vuejs.html";

    var disqus_config = function () {
        this.page.url = disqus_url;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = disqus_identifier; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
        this.page.title = disqus_title;
    };

    (function() { // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        s.src = '//rosskaff.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>

<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

<!-- <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a> -->

    </section>

      </section>
    </div>
    
    <footer>
  <div class="row">
    <img src="/assets/images/turtle-logo-096698b6.svg" class="turtle" alt="Turtle logo" />
    <section class="large-6 columns">
      <h5>Most Popular</h5>
      <ul>
          <li><a href="/blog/building-a-pdf-viewer-with-vue-part-1.html">Rendering PDF pages with PDF.js and Vue</a></li>
          <li><a href="/blog/local-ssl-for-rails-5.html">Local SSL for Rails 5 development and tests</a></li>
          <li><a href="/blog/from-sprockets-to-webpack.html">How we switched from Sprockets to Webpack</a></li>
          <li><a href="/blog/web-push-notifications-from-rails.html">Sending Web Push Notifications from Rails</a></li>
          <li><a href="/blog/how-to-specify-local-ruby-gems-in-your-gemfile.html">How to specify local Ruby gems in your Gemfile</a></li>
      </ul>
    </section>
    <section class="large-3 columns">
      <h5>Categories</h5>
      <ul>
          <li><a href="/blog/tags/ruby.html">Ruby</a></li>
          <li><a href="/blog/tags/rails.html">Rails</a></li>
          <li><a href="/blog/tags/javascript.html">JavaScript</a></li>
          <li><a href="/blog/tags/vue.html">Vue</a></li>
          <li><a href="/blog/tags/service-worker.html">Service Worker</a></li>
      </ul>
    </section>
    <section class="large-3 columns">
      <h5>Contact</h5>
      <ul>
        <li><a href="mailto:ross@rossta.net" rel="me noopener">email</a></li>
        <li><a href="https://twitter.com/rossta" rel="me noopener">twitter</a></li>
        <li><a href="https://medium.com/@rossta" rel="me noopener">medium</a></li>
        <li><a href="https://github.com/rossta" rel="me noopener">github</a></li>
        <!-- <li><a href="https://stackoverflow.com/users/771838/rossta?tab=profile" rel="me">stackoverflow</a></li> -->
        <li><a href="https://www.linkedin.com/in/rosskaffenberger" rel="me noopener">linkedin</a></li>
      </ul>
    </section>
  </div>
  <p class="copyright small subtle center">
    © 2019 Ross Kaffenberger. All rights reserved.
  </p>
</footer>

    <script src="/runtime-3fa7456e.js"></script><script src="/vendor-0116f3b0.js"></script><script src="/app-ed1e4144.js"></script>
    
    <script type="text/javascript">
!function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="3.1.0";
analytics.load("NdBtrprkAGAjQryMShljRdVf90saElAU");
analytics.page()
window.$.tracking.flush(analytics);
}}();
</script>

  </body>
</html>
